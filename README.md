# üö¶ zapret_autoconfig

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ DPI-–æ–±—Ö–æ–¥–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ [zapret](https://github.com/bol-van/zapret) –∏ –ø—Ä–æ–µ–∫—Ç–∞ [zapret-openwrt](https://github.com/remittor/zapret-openwrt), —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ YouTube –∏ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

| –ø—É–Ω–∫—Ç | –æ–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| [1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç](#1-—á—Ç–æ-–¥–µ–ª–∞–µ—Ç-—Å–∫—Ä–∏–ø—Ç) |
| [2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#2-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è) |
| [3. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PuTTY¬†(Windows)](#3-—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ-putty-windows) |
| [4. –ë—ã—Å—Ç—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#4-–±—ã—Å—Ç—Ä–∞—è-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞) |

---

## 1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å `https://www.youtube.com`.
2. –ï—Å–ª–∏ YouTube **–¥–æ—Å—Ç—É–ø–µ–Ω**¬†‚Äî —Ç–∏—Ö–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è.  
   –ï—Å–ª–∏ **–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**¬†‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–¥–±–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:  
   - **–§–∞–∑–∞¬†1 (light)**‚ÄØ‚Äî –±—ã—Å—Ç—Ä—ã–µ/–ª—ë–≥–∫–∏–µ –º–µ—Ç–æ–¥—ã –æ–±—Ö–æ–¥–∞;  
   - **–§–∞–∑–∞¬†2 (heavy)**‚ÄØ‚Äî –Ω–∞–¥—ë–∂–Ω—ã–µ/–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã.
3. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–∏:
   - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É `NFQWS_OPT="..."` –≤‚ÄØ`/opt/zapret/config`;
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç `/etc/init.d/zapret`;
   - –°–Ω–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç YouTube.
4. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ).
5. –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:
   - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (`flock`);
   - –¥–æ 12¬†–ø–æ–ø—ã—Ç–æ–∫ (6¬†light¬†+¬†6¬†heavy).

---

## 2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ü–û / –ø–∞–∫–µ—Ç | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------------|------------|
| **OpenWrt‚ÄØ23‚ÄØ+**      | –∏–ª–∏ –ª—é–±–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –ø—Ä–æ—à–∏–≤–∫–∞ —Å `ash`/`busybox` |
| **zapret**               | [[—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π]](https://github.com/remittor/zapret-openwrt)¬†‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—á–∏–π |
| `curl` + `wget-ssl`      | –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ YouTube –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ |
| `flock`¬†(–∏–∑ `util-linux`) | –æ–±—ã—á–Ω–æ —É–∂–µ –µ—Å—Ç—å –≤ OpenWrt —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ |
| **PuTTY**¬†(Windows)      | SSH‚Äë–∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ä–æ—É—Ç–µ—Ä—É |

---

## 3. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ **PuTTY** (Windows)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ <https://www.putty.org>  
2. –°–∫–∞—á–∞–π—Ç–µ **`putty.exe`** (32‚Äë/64‚Äëbit) –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ.  
3. –û—Ç–∫—Ä–æ–π—Ç–µ **PuTTY** –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫¬†—Ä–æ—É—Ç–µ—Ä—É:  
   - Host¬†Name: `192.168.1.1` (–∏–ª–∏ IP –≤–∞—à–µ–≥–æ OpenWrt)  
   - Port¬†`22`, Protocol¬†`SSH`.  
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é¬†`root`¬†/¬†–ø–∞—Ä–æ–ª—å, –∑–∞–¥–∞–Ω–Ω—ã–π –≤ LuCI).

---

## 4. –ë—ã—Å—Ç—Ä–∞—è-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞
–í–≤–µ–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
<pre><code>#!/bin/sh

echo "[INFO] –û—Ç–∫–ª—é—á–∞–µ–º zapret..."
/etc/init.d/zapret stop
sleep 5

echo "[INFO] –ü—ã—Ç–∞–µ–º—Å—è —Å–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç..."
wget -O /tmp/quick_install.sh https://raw.githubusercontent.com/FoolTrigger/zapret_autoconfig/main/quick_install.sh
if [ $? -ne 0 ]; then
  echo "[ERROR] –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å. –ù–µ –∑–∞–ø—É—Å–∫–∞–µ–º zapret."
  exit 1
fi

echo "[INFO] –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º..."
chmod +x /tmp/quick_install.sh

echo "[INFO] –ó–∞–ø—É—Å–∫–∞–µ–º zapret..."
/etc/init.d/zapret start
sleep 5

echo "[INFO] –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç..."
/tmp/quick_install.sh</code></pre>

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –æ–±—Ö–æ–¥–∞ DPI –¥–ª—è OpenWRT.
–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –∑–∞ –ø—Ä–æ–µ–∫—Ç zapret ‚Äî ¬©bol‚Äëvan, –º—ã –ª–∏—à—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º —Ä—É—Ç–∏–Ω—É.
